<div>
  <h2>Admin Panel</h2>
  
  <!-- Displaying all users -->
  <table class="user-table" *ngIf="users.length > 0; else noUsers">
      <thead>
          <tr>
              <th>Email</th>
              <th>Full Name</th>
              <th>Phone Number</th>
              <th>Address</th>
              <th>Actions</th>
          </tr>
      </thead>
      <tbody>
          <tr *ngFor="let user of users">
              <td>{{ user.emailid }}</td>
              <td>{{ user.fullname }}</td>
              <td>{{ user.phonenumber }}</td>
              <td>{{ user.address }}</td>
              <td>
                  <button class="action-button edit-button" (click)="editUser(user)">Edit</button>
                  <button class="action-button delete-button" (click)="deleteUser(user.id)">Delete</button>
              </td>
          </tr>
      </tbody>
  </table>
  <ng-template #noUsers>
      <p>No users found</p>
  </ng-template>

  <!-- Form for adding or editing user -->
  <form *ngIf="isEditing" (ngSubmit)="updateUser()" class="user-form">
      <h3>Edit User</h3>
      <div class="form-group">
          <label>Email:</label>
          <input type="text" [(ngModel)]="editingUser.emailid" name="emailid" required>
      </div>
      <div class="form-group">
          <label>Password:</label>
          <input type="password" [(ngModel)]="editingUser.password" name="password" required>
      </div>
      <div class="form-group">
          <label>Full Name:</label>
          <input type="text" [(ngModel)]="editingUser.fullname" name="fullname" required>
      </div>
      <div class="form-group">
          <label>Phone Number:</label>
          <input type="text" [(ngModel)]="editingUser.phonenumber" name="phonenumber" required>
      </div>
      <div class="form-group">
          <label>Address:</label>
          <input type="text" [(ngModel)]="editingUser.address" name="address" required>
      </div>
      <div class="button-group">
          <button type="submit">Update</button>
          <button type="button" (click)="cancelEdit()">Cancel</button>
      </div>
  </form>

  <!-- Form for adding a new user -->
  <form *ngIf="!isEditing" (ngSubmit)="addUser()" class="user-form">
      <h3>Add New User</h3>
      <div class="form-group">
          <label>Email:</label>
          <input type="text" [(ngModel)]="newUser.emailid" name="emailid" required>
      </div>
      <div class="form-group">
          <label>Password:</label>
          <input type="password" [(ngModel)]="newUser.password" name="password" required>
      </div>
      <div class="form-group">
          <label>Full Name:</label>
          <input type="text" [(ngModel)]="newUser.fullname" name="fullname" required>
      </div>
      <div class="form-group">
          <label>Phone Number:</label>
          <input type="text" [(ngModel)]="newUser.phonenumber" name="phonenumber" required>
      </div>
      <div class="form-group">
          <label>Address:</label>
          <input type="text" [(ngModel)]="newUser.address" name="address" required>
      </div>
      <div class="button-group">
          <button type="submit">Add</button>
      </div>
  </form>
</div>
