<div class="container">
  <h2>Add New Bill</h2>
  
  <form [formGroup]="addBill" (submit)="addBillDetails()">


    <div>
      <label for="billgendate">Bill Generation Date
        <span class="required-indicator" style="color: red;">*</span></label>
      <input type="date" id="billgendate" formControlName="billgendate" required>
      <div
        *ngIf="addBill.get('billgendate')?.invalid && (addBill.get('billgendate')?.dirty || addBill.get('billgendate')?.touched)">
        <div *ngIf="addBill.get('billgendate')?.errors?.['required']" class="error-message" style="color: red;">Bill
          generation date is required.</div>
        <div *ngIf="addBill.get('billgendate')?.errors?.['futureDate']" class="error-message" style="color: red;">Bill
          generation date cannot be in the future.</div>
      </div>
    </div>


    <div>
      <label for="perunitcost">Per Unit Cost</label>
      <input type="text" id="perunitcost" formControlName="perunitcost" readonly required>
    </div>
    <div>
      <label for="totalunits">Total Units
        <span class="required-indicator" style="color: red;">*</span></label>
      <input type="number" id="totalunits" formControlName="totalunits"  required>
    </div>
    <div>
      <label for="billamount">Bill Amount </label>
      <input type="text" id="billamount" formControlName="billamount" readonly required>
    </div>
   

    <div>
      <label for="billduedate">Bill Due Date
        <span class="required-indicator" style="color: red;">*</span>
      </label>
      <input type="date" id="billduedate" formControlName="billduedate" [class.error]="addBill.get('billduedate')?.invalid && (addBill.get('billduedate')?.dirty || addBill.get('billduedate')?.touched)">
      <div *ngIf="addBill.get('billduedate')?.invalid && (addBill.get('billduedate')?.dirty || addBill.get('billduedate')?.touched)" class="error-message">
        <div *ngIf="addBill.get('billduedate')?.errors?.['required']">Bill due date is required.</div>
        <div *ngIf="addBill.get('billduedate')?.errors?.['pastDate']">Bill due date cannot be in the past.</div>
      </div>
    </div>
    

    <div>
      <label for="id">Customer Id
        <span class="required-indicator" style="color: red;">*</span></label>
      <input type="text" id="id" formControlName="id" required>
    </div>

    <button type="submit">Add Bill</button> &nbsp;&nbsp;&nbsp;
    <button class="action-button" [routerLink]="['/bills']"><i class="fa fa-plus"></i> See bills</button>

  </form>

  <div *ngIf="message" class="alert">{{ message }}</div>
</div>